name: test
on:
  - push


jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        include:
          - project: akash
          - project: bandchain
          - project: bitcanna
          - project: bitsong
          - project: comdex
          - project: cosmoshub
          - project: cryptoorgchain
          - project: emoney
          - project: impacthub
          - project: irisnet
          - project: juno
          - project: kava
          - project: kichain
          - project: likecoin
          - project: osmosis
          - project: panacea
          - project: persistence
          - project: regen
          - project: rizon
          - project: sentinel
          - project: shentu
          - project: sifchain
          - project: stargaze
          - project: starname
          - project: terra
          - project: thorchain
    steps:
      -
        name: Checkout
        uses: actions/checkout@v2
      -
        uses: docker/setup-buildx-action@v1
        id: buildx
        with:
          install: true
      -
        name: Build
        run: |
          touch .env # Create dummy env file
          cd ${{matrix.project}}
          docker buildx bake -f docker-compose.yml --set node_1.tags=node
